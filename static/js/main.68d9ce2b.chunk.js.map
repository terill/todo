{"version":3,"sources":["api/Constants/index.jsx","api/UserContext/index.jsx","components/Header/index.jsx","components/Home/index.jsx","api/TodosContext/index.jsx","components/Todo/index.jsx","components/Dashboard/index.jsx","components/ErrorNotice/index.jsx","components/StyledComponents/index.jsx","components/Field/index.jsx","components/Signup/index.jsx","components/Login/index.jsx","App.js","reportWebVitals.js","index.js"],"names":["serverUri","authUri","todoUri","UserContext","React","createContext","UserProvider","props","useState","user","setUser","Provider","value","children","Header","useContext","history","useHistory","className","to","onClick","localStorage","removeItem","push","Home","TodosContext","TodosProvider","todos","setTodos","updateTodo","t","a","fetch","method","headers","token","body","JSON","stringify","id","_id","then","res","json","err","console","log","map","todo","Todo","editMode","prevent","timer","state","setState","tempData","setTempData","type","onChange","e","target","data","done","draggable","setTimeout","onDoubleClick","clearTimeout","Dashboard","useEffect","date","Date","todoList","length","getUTCFullYear","getUTCMonth","getUTCDate","getUTCDay","ErrorNotice","message","clearError","Input","styled","input","SubmitButton","attrs","Field","Signup","email","setEmail","password","setPassword","error","setError","onSubmit","preventDefault","responseRegister","msg","responseLogin","setItem","undefined","htmlFor","Login","response","App","getItem","userResponse","exact","path","component","render","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.68d9ce2b.chunk.js","sourcesContent":["export const serverUri = 'https://terill-todo.herokuapp.com';\nexport const authUri = `${serverUri}/auth`;\nexport const todoUri = `${serverUri}/todo`;\n\nexport const monthNames = [\n  'Jan',\n  'Feb',\n  'Mar',\n  'Apr',\n  'May',\n  'Jun',\n  'Jul',\n  'Aug',\n  'Sep',\n  'Oct',\n  'Nov',\n  'Dec'\n];\n\nexport const weekdayNames = [\n  'Sunday',\n  'Monday',\n  'Tuesday',\n  'Wednesday',\n  'Thursday',\n  'Friday',\n  'Saturday'\n];\n","import React, { useState } from 'react';\n\nconst UserContext = React.createContext();\n\nexport const UserProvider = props => {\n  const [user, setUser] = useState(null);\n\n  return (\n    <UserContext.Provider value={{ user, setUser }}>\n      {props.children}\n    </UserContext.Provider>\n  );\n};\n\nexport default UserContext;\n","import React, { useContext } from 'react';\nimport './index.css';\nimport { Link, useHistory } from 'react-router-dom';\nimport UserContext from '../../api/UserContext';\n\nconst Header = () => {\n  const { user, setUser } = useContext(UserContext);\n  const history = useHistory();\n\n  const logout = () => {\n    localStorage.removeItem('auth-token');\n    setUser(null);\n    history.push('/');\n  };\n\n  return (\n    <header className=\"Header\">\n      <Link to=\"/\">Home</Link>\n      {!user && <Link to=\"/login\">Log in</Link>}\n      {!user && <Link to=\"/signup\">Sign up</Link>}\n      {user && <Link to=\"/dashboard\">Dashboard</Link>}\n      {user && <button onClick={logout}>Log out</button>}\n    </header>\n  );\n};\n\nexport default Header;\n","import React from 'react';\nimport './index.css';\n\nconst Home = () => {\n  return <div>Home</div>;\n};\n\nexport default Home;\n","import React, { useContext, useState } from 'react';\nimport { todoUri } from '../Constants';\nimport UserContext from '../UserContext';\n\nconst TodosContext = React.createContext();\n\nexport const TodosProvider = props => {\n  const { user } = useContext(UserContext);\n  const [todos, setTodos] = useState([]);\n\n  const updateTodo = async t => {\n    await fetch(`${todoUri}/edit`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        'auth-token': user.token\n      },\n      body: JSON.stringify({ ...t, id: t._id })\n    })\n      .then(res => res.json())\n      .then(err => console.log(err));\n    setTodos(todos.map(todo => (t._id === todo._id ? t : todo)));\n  };\n\n  return (\n    <TodosContext.Provider value={{ todos, setTodos, updateTodo }}>\n      {props.children}\n    </TodosContext.Provider>\n  );\n};\n\nexport default TodosContext;\n","import React, { useContext, useState } from 'react';\nimport './index.css';\n\nimport TodosContext from '../../api/TodosContext';\n\nconst Todo = props => {\n  const { updateTodo } = useContext(TodosContext);\n  const [state, setState] = useState({\n    editMode: false,\n    prevent: false,\n    timer: null\n  });\n\n  const [tempData, setTempData] = useState(null);\n\n  const editTodo = () => {\n    clearTimeout(state.timer);\n    setState({ ...state, editMode: true, prevent: true, timer: null });\n    setTempData(props.data);\n    console.log('editmode');\n  };\n\n  const setDone = () => {\n    setState({\n      ...state,\n      timer: setTimeout(() => {\n        if (!state.prevent) {\n          setState({ ...state, prevent: false });\n          updateTodo({ ...props.data, done: !props.data.done });\n          setTempData(null);\n        }\n      }, 50)\n    });\n  };\n\n  return (\n    <>\n      {state.editMode ? (\n        <div className=\"Todo editMode\">\n          <input\n            type=\"text\"\n            value={tempData.todo}\n            onChange={e => setTempData({ ...tempData, todo: e.target.value })}\n          />\n        </div>\n      ) : (\n        <div\n          className={'Todo' + (props.data.done ? ' done' : '')}\n          draggable\n          onClick={setDone}\n          onDoubleClick={editTodo}>\n          {props.data.todo}\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Todo;\n","import React, { useEffect, useContext } from 'react';\nimport './index.css';\n\nimport UserContext from '../../api/UserContext';\nimport TodosContext from '../../api/TodosContext';\nimport { todoUri } from '../../api/Constants';\nimport Todo from '../Todo';\n\nconst Dashboard = () => {\n  const { user } = useContext(UserContext);\n  const { todos, setTodos } = useContext(TodosContext);\n\n  useEffect(() => {\n    (async () => {\n      await fetch(todoUri, { headers: { 'auth-token': user.token } })\n        .then(res => res.json())\n        .then(t => setTodos(t));\n    })();\n  }, [setTodos, user.token]);\n\n  const backHandler = () => {\n    console.log('back');\n  };\n\n  const forwardHandler = () => {\n    console.log('forward');\n  };\n\n  const date = new Date();\n\n  console.log(todos);\n  const todoList =\n    todos.length &&\n    todos.map(todo => {\n      return <Todo data={todo} key={todo._id} />;\n    });\n\n  return (\n    <div className=\"Dashboard\">\n      <button onClick={backHandler}>Back</button>\n      <div className=\"todoList\">{todoList}</div>\n\n      {date.getUTCFullYear()}\n      <br />\n      {date.getUTCMonth()}\n      <br />\n      {date.getUTCDate()}\n      <br />\n      {date.getUTCDay()}\n      <br />\n      <button onClick={forwardHandler}>Forward</button>\n    </div>\n  );\n};\n\nexport default Dashboard;\n","import React from 'react';\nimport './index.css';\n\nconst ErrorNotice = props => {\n  return (\n    <div className=\"ErrorNotice\">\n      <span>{props.message}</span>\n      <button onClick={props.clearError}>X</button>\n    </div>\n  );\n};\n\nexport default ErrorNotice;\n","import styled from 'styled-components';\n\nexport const Input = styled.input`\n  border: none;\n  height: 100%;\n  outline: 0;\n  font-size: 18px;\n`;\n\nexport const SubmitButton = styled.input.attrs({ type: 'submit' })`\n  width: 100%;\n  font-size: 20px;\n  background-color: #f00;\n  color: #fff;\n  border: none;\n  border-radius: 5px;\n  margin: 0.9rem 0;\n  padding: 1rem 2rem;\n  cursor: pointer;\n  transition: background-color .3s ease-in-out, color .3s ease-in-out;\n\n  &:hover {\n    background-color: #000;\n  }\n`;\n","import React from 'react';\nimport './index.css';\n\nconst Field = props => {\n  return <div className=\"Field\">{props.children}</div>;\n};\n\nexport default Field;\n","import React, { useContext, useState } from 'react';\nimport './index.css';\nimport { Link, useHistory } from 'react-router-dom';\n\nimport UserContext from '../../api/UserContext';\nimport { authUri } from '../../api/Constants';\nimport ErrorNotice from '../ErrorNotice';\nimport { Input, SubmitButton } from '../StyledComponents';\nimport Field from '../Field';\n\nconst Signup = () => {\n  const [email, setEmail] = useState();\n  const [password, setPassword] = useState();\n  const [error, setError] = useState();\n\n  const { setUser } = useContext(UserContext);\n  const history = useHistory();\n\n  const onSubmit = async e => {\n    e.preventDefault();\n\n    const responseRegister = await fetch(`${authUri}/register`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ email, password })\n    }).then(res => res.json());\n\n    if (responseRegister.msg) {\n      return setError(responseRegister.msg);\n    }\n\n    const responseLogin = await fetch(`${authUri}/login`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ email, password })\n    }).then(res => res.json());\n\n    setUser({\n      token: responseLogin.token,\n      user: responseLogin.user\n    });\n\n    localStorage.setItem('auth-token', responseLogin.token);\n    history.push('/dashboard');\n  };\n\n  return (\n    <div className=\"Signup\">\n      <h1>Sign up for free</h1>\n      {error && (\n        <ErrorNotice message={error} clearError={() => setError(undefined)} />\n      )}\n      <form onSubmit={onSubmit}>\n        <Field>\n          <label htmlFor=\"email\">email</label>\n          <Input\n            type=\"email\"\n            id=\"email\"\n            onChange={e => setEmail(e.target.value)}\n          />\n        </Field>\n        <Field>\n          <label htmlFor=\"email\">password</label>\n          <Input\n            type=\"password\"\n            id=\"password\"\n            onChange={e => setPassword(e.target.value)}\n          />\n        </Field>\n        <SubmitButton value=\"Sign up\" />\n      </form>\n      Already have an account? <Link to=\"/login\">Log in</Link>\n    </div>\n  );\n};\n\nexport default Signup;\n","import React, { useState, useContext } from 'react';\nimport './index.css';\nimport { Link, useHistory } from 'react-router-dom';\n\nimport UserContext from '../../api/UserContext';\nimport { authUri } from '../../api/Constants';\nimport ErrorNotice from '../ErrorNotice';\nimport { Input, SubmitButton } from '../StyledComponents';\nimport Field from '../Field';\n\nconst Login = () => {\n  const [email, setEmail] = useState();\n  const [password, setPassword] = useState();\n  const [error, setError] = useState();\n\n  const { setUser } = useContext(UserContext);\n  const history = useHistory();\n\n  const onSubmit = async e => {\n    e.preventDefault();\n\n    const response = await fetch(`${authUri}/login`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ email, password })\n    }).then(res => res.json());\n\n    if (response.msg) {\n      return setError(response.msg);\n    }\n\n    setUser({\n      token: response.token,\n      user: response.user\n    });\n\n    localStorage.setItem('auth-token', response.token);\n    history.push('/dashboard');\n  };\n\n  return (\n    <div className=\"Login\">\n      <h1>Log in</h1>\n      {error && (\n        <ErrorNotice message={error} clearError={() => setError(undefined)} />\n      )}\n      <form onSubmit={onSubmit}>\n        <Field>\n          <label htmlFor=\"email\">email</label>\n          <Input\n            type=\"email\"\n            id=\"email\"\n            onChange={e => setEmail(e.target.value)}\n          />\n        </Field>\n        <Field>\n          <label htmlFor=\"email\">password</label>\n          <Input\n            type=\"password\"\n            id=\"password\"\n            onChange={e => setPassword(e.target.value)}\n          />\n        </Field>\n        <SubmitButton value=\"Log in\" />\n      </form>\n      {/* <Link to=\"#\">Forgot your password?</Link> */}\n      Don't have an account? <Link to=\"/signup\">Sign up</Link>\n    </div>\n  );\n};\n\nexport default Login;\n","import React, { useContext, useEffect } from 'react';\nimport './App.css';\nimport { HashRouter, Switch, Route, Redirect } from 'react-router-dom';\n\nimport { authUri } from './api/Constants';\nimport Header from './components/Header';\nimport Home from './components/Home';\nimport Dashboard from './components/Dashboard';\nimport Signup from './components/Signup';\nimport Login from './components/Login';\nimport UserContext from './api/UserContext';\n\nfunction App() {\n  const { user, setUser } = useContext(UserContext);\n\n  useEffect(() => {\n    (async () => {\n      let token = localStorage.getItem('auth-token');\n      if (token === null) {\n        localStorage.setItem('auth-token', '');\n        token = '';\n      }\n\n      const tokenResponse = await fetch(`${authUri}/token`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'auth-token': token\n        }\n      }).then(res => res.json());\n\n      if (tokenResponse) {\n        const userResponse = await fetch(`${authUri}/`, {\n          headers: {\n            'Content-Type': 'application/json',\n            'auth-token': token\n          }\n        }).then(res => res.json());\n        setUser({ token: token, user: userResponse });\n      }\n    })();\n  }, [setUser]);\n\n  return (\n    <div className=\"App\">\n      <HashRouter>\n        <Header />\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route\n            path=\"/dashboard\"\n            render={() =>\n              user ? <Dashboard /> : <Redirect to=\"/login\" />\n            }\n          />\n          <Route\n            path=\"/signup\"\n            render={() =>\n              !user ? <Signup /> : <Redirect to=\"/dashboard\" />\n            }\n          />\n          <Route\n            path=\"/login\"\n            render={() =>\n              !user ? <Login /> : <Redirect to=\"/dashboard\" />\n            }\n          />\n        </Switch>\n      </HashRouter>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { UserProvider } from './api/UserContext';\nimport { TodosProvider } from './api/TodosContext';\n\nReactDOM.render(\n  <React.StrictMode>\n    <UserProvider>\n      <TodosProvider>\n        <App />\n      </TodosProvider>\n    </UserProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}