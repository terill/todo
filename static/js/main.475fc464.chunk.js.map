{"version":3,"sources":["api/Constants/index.jsx","components/Header/index.jsx","components/Home/index.jsx","api/UserContext/index.jsx","components/Dashboard/index.jsx","components/ErrorNotice/index.jsx","components/StyledComponents/index.jsx","components/Field/index.jsx","components/Signup/index.jsx","components/Login/index.jsx","App.js","reportWebVitals.js","index.js"],"names":["authUri","Header","className","to","Home","UserContext","React","createContext","UserProvider","props","useState","token","undefined","user","setUser","Provider","value","children","Dashboard","useContext","history","useHistory","useEffect","push","ErrorNotice","message","onClick","clearError","Input","styled","input","SubmitButton","attrs","type","Field","Signup","email","setEmail","password","setPassword","error","setError","onSubmit","e","a","preventDefault","fetch","method","headers","body","JSON","stringify","then","res","json","responseRegister","msg","responseLogin","localStorage","setItem","htmlFor","id","onChange","target","Login","response","App","getItem","userResponse","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.475fc464.chunk.js","sourcesContent":["export const serverUri = 'https://terill-todo.herokuapp.com';\nexport const authUri = `${serverUri}/auth`;\n","import React from 'react';\nimport './index.css';\nimport { Link } from 'react-router-dom';\n\nconst Header = () => {\n  return (\n    <header className=\"Header\">\n      <Link to=\"/\">Home</Link>\n      <Link to=\"/dashboard\">Dashboard</Link>\n      <Link to=\"/signup\">Sign up</Link>\n      <Link to=\"/login\">Log in</Link>\n    </header>\n  );\n};\n\nexport default Header;\n","import React from 'react';\nimport './index.css';\n\nconst Home = () => {\n  return <div>Home</div>;\n};\n\nexport default Home;\n","import React, { useState } from 'react';\n\nconst UserContext = React.createContext();\n\nexport const UserProvider = props => {\n  const [user, setUser] = useState({\n    token: undefined,\n    user: undefined\n  });\n\n  return (\n    <UserContext.Provider value={{user, setUser}}>\n      {props.children}\n    </UserContext.Provider>\n  );\n};\n\nexport default UserContext;\n","import React, { useEffect, useContext } from 'react';\nimport './index.css';\n\nimport UserContext from '../../api/UserContext';\nimport { useHistory } from 'react-router';\n\nconst Dashboard = () => {\n  const { user, setUser } = useContext(UserContext);\n  const history = useHistory();\n\n  useEffect(() => {\n    if (!user.user) {\n      history.push('/login');\n    }\n  }, [user.user, history]);\n\n  return <div>Dashboard</div>;\n};\n\nexport default Dashboard;\n","import React from 'react';\nimport './index.css';\n\nconst ErrorNotice = props => {\n  return (\n    <div className=\"ErrorNotice\">\n      <span>{props.message}</span>\n      <button onClick={props.clearError}>X</button>\n    </div>\n  );\n};\n\nexport default ErrorNotice;\n","import styled from 'styled-components';\n\nexport const Input = styled.input`\n  border: none;\n  height: 100%;\n  outline: 0;\n  font-size: 18px;\n`;\n\nexport const SubmitButton = styled.input.attrs({ type: 'submit' })`\n  width: 100%;\n  font-size: 20px;\n  background-color: #f00;\n  color: #fff;\n  border: none;\n  border-radius: 5px;\n  margin: 0.9rem 0;\n  padding: 1rem 2rem;\n  cursor: pointer;\n  transition: background-color .3s ease-in-out, color .3s ease-in-out;\n\n  &:hover {\n    background-color: #000;\n  }\n`;\n","import React from 'react';\nimport './index.css';\n\nconst Field = props => {\n  return <div className=\"Field\">{props.children}</div>;\n};\n\nexport default Field;\n","import React, { useContext, useEffect, useState } from 'react';\nimport './index.css';\nimport { Link, useHistory } from 'react-router-dom';\n\nimport UserContext from '../../api/UserContext';\nimport { authUri } from '../../api/Constants';\nimport ErrorNotice from '../ErrorNotice';\nimport { Input, SubmitButton } from '../StyledComponents';\nimport Field from '../Field';\n\nconst Signup = () => {\n  const [email, setEmail] = useState();\n  const [password, setPassword] = useState();\n  const [error, setError] = useState();\n\n  const { user, setUser } = useContext(UserContext);\n  const history = useHistory();\n\n  useEffect(() => {\n    if (user.user) {\n      history.push('/dashboard');\n    }\n  }, [user.user, history]);\n\n  const onSubmit = async e => {\n    e.preventDefault();\n\n    const responseRegister = await fetch(`${authUri}/register`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ email, password })\n    }).then(res => res.json());\n\n    if (responseRegister.msg) {\n      return setError(responseRegister.msg);\n    }\n\n    const responseLogin = await fetch(`${authUri}/login`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ email, password })\n    }).then(res => res.json());\n\n    setUser({\n      token: responseLogin.token,\n      user: responseLogin.user\n    });\n\n    localStorage.setItem('auth-token', responseLogin.token);\n    history.push('/dashboard');\n  };\n\n  return (\n    <div className=\"Signup\">\n      <h1>Sign up for free</h1>\n      {error && (\n        <ErrorNotice message={error} clearError={() => setError(undefined)} />\n      )}\n      <form onSubmit={onSubmit}>\n        <Field>\n          <label htmlFor=\"email\">email</label>\n          <Input\n            type=\"email\"\n            id=\"email\"\n            onChange={e => setEmail(e.target.value)}\n          />\n        </Field>\n        <Field>\n          <label htmlFor=\"email\">password</label>\n          <Input\n            type=\"password\"\n            id=\"password\"\n            onChange={e => setPassword(e.target.value)}\n          />\n        </Field>\n        <SubmitButton value=\"Sign up\" />\n      </form>\n      Already have an account? <Link to=\"/login\">Log in</Link>\n    </div>\n  );\n};\n\nexport default Signup;\n","import React, { useState, useEffect, useContext } from 'react';\nimport './index.css';\nimport { Link, useHistory } from 'react-router-dom';\n\nimport UserContext from '../../api/UserContext';\nimport { authUri } from '../../api/Constants';\nimport ErrorNotice from '../ErrorNotice';\nimport { Input, SubmitButton } from '../StyledComponents';\nimport Field from '../Field';\n\nconst Login = () => {\n  const [email, setEmail] = useState();\n  const [password, setPassword] = useState();\n  const [error, setError] = useState();\n\n  const { user, setUser } = useContext(UserContext);\n  const history = useHistory();\n\n  useEffect(() => {\n    if (user.user) {\n      history.push('/dashboard');\n    }\n  }, [user.user, history]);\n\n  const onSubmit = async e => {\n    e.preventDefault();\n\n    const response = await fetch(`${authUri}/login`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ email, password })\n    }).then(res => res.json());\n\n    if (response.msg) {\n      return setError(response.msg);\n    }\n\n    setUser({\n      token: response.token,\n      user: response.user\n    });\n\n    localStorage.setItem('auth-token', response.token);\n    history.push('/dashboard');\n  };\n\n  return (\n    <div className=\"Login\">\n      <h1>Log in</h1>\n      {error && (\n        <ErrorNotice message={error} clearError={() => setError(undefined)} />\n      )}\n      <form onSubmit={onSubmit}>\n        <Field>\n          <label htmlFor=\"email\">email</label>\n          <Input\n            type=\"email\"\n            id=\"email\"\n            onChange={e => setEmail(e.target.value)}\n          />\n        </Field>\n        <Field>\n          <label htmlFor=\"email\">password</label>\n          <Input\n            type=\"password\"\n            id=\"password\"\n            onChange={e => setPassword(e.target.value)}\n          />\n        </Field>\n        <SubmitButton value=\"Log in\" />\n      </form>\n      {/* <Link to=\"#\">Forgot your password?</Link> */}\n      Don't have an account? <Link to=\"/signup\">Sign up</Link>\n    </div>\n  );\n};\n\nexport default Login;\n","import React, { useContext, useEffect } from 'react';\nimport './App.css';\nimport { HashRouter, Switch, Route } from 'react-router-dom';\n\nimport { authUri } from './api/Constants';\nimport Header from './components/Header';\nimport Home from './components/Home';\nimport Dashboard from './components/Dashboard';\nimport Signup from './components/Signup';\nimport Login from './components/Login';\nimport UserContext from './api/UserContext';\n\nfunction App() {\n  const { setUser } = useContext(UserContext);\n\n  useEffect(() => {\n    (async () => {\n      let token = localStorage.getItem('auth-token');\n      if (token === null) {\n        localStorage.setItem('auth-token', '');\n        token = '';\n      }\n\n      const tokenResponse = await fetch(`${authUri}/token`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'auth-token': token\n        }\n      }).then(res => res.json());\n\n      if (tokenResponse) {\n        const userResponse = await fetch(`${authUri}/`, {\n          headers: {\n            'Content-Type': 'application/json',\n            'auth-token': token\n          }\n        }).then(res => res.json());\n        setUser({ token: token, user: userResponse });\n      }\n    })();\n  }, [setUser]);\n\n  return (\n    <div className=\"App\">\n      <HashRouter>\n        <Header />\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route path=\"/dashboard\" component={Dashboard} />\n          <Route exact path=\"/signup\" component={Signup} />\n          <Route exact path=\"/login\" component={Login} />\n        </Switch>\n      </HashRouter>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { UserProvider } from './api/UserContext';\n\nReactDOM.render(\n  <React.StrictMode>\n    <UserProvider>\n      <App />\n    </UserProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}